(function(){"use strict";try{if(typeof document<"u"){var o=document.createElement("style");o.appendChild(document.createTextNode('@import"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap";*,:before,:after{box-sizing:border-box}:where(ul,ol):where([class]){padding-left:0}body,:where(blockquote,figure,fieldset):where([class]){margin:0}:where(h1,h2,h3,h4,h5,h6,p,ul,ol,dl):where([class]){margin-block:0}:where(dd[class]){margin-left:0}:where(fieldset[class]){padding:0;border:none}:where(ul[class]){list-style:none}:where(address[class]){font-style:normal}p{--paragraphMarginBottom: 24px;margin-block:0}p:where(:not([class]):not(:last-child)){margin-bottom:var(--paragraphMarginBottom)}img,video{display:block;max-width:100%;height:auto}input,textarea,select,button{font:inherit}html{height:100%;scrollbar-gutter:stable;scroll-behavior:smooth}body{min-height:100%;line-height:1.5}a:where([class]){display:inline-flex}button,label{cursor:pointer}button{-webkit-tap-highlight-color:transparent}:where([fill]:not([fill=none],[fill^=url])){fill:currentColor}:where([stroke]:not([stroke=none],[stroke^=url])){stroke:currentColor}svg *{transition-property:fill,stroke}:where(table){border-collapse:collapse;border-color:currentColor}@media (prefers-reduced-motion: reduce){*,:before,:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}:root{--color-light: #ffffff;--operators-color: #ff9f0a;--operators-color-alt: #646464;--input-color: #3d3d3d;--numbers-color: #7d7d7d}body{display:flex;justify-content:center;align-items:center;height:100vh;font-family:Montserrat,sans-serif;font-weight:300;background-color:#343a40}button{border:none;font-size:1.2em;cursor:pointer;outline:none}.calculator{width:300px;border:1px solid #646464;border-radius:21px;background:var(--input-color);box-shadow:0 1px 11px 3px #0009;overflow:hidden}.display input{padding:20px;font-size:4em;text-align:end;color:var(--color-light);background-color:var(--input-color);border:none;border-radius:12px;width:100%;height:100px}.display input:focus{outline:none}.display input::placeholder{color:var(--color-light)}.buttons{display:grid;grid-template-columns:repeat(4,1fr);gap:1px;border:none;border-radius:5px;font-size:30px;-webkit-user-select:none;user-select:none;width:100%}.button{background:#a5a5a5;transition-duration:.3s;font-weight:400;color:var(--color-light)}.button.active{background:#000;color:#fff}.button:hover,.button:active{opacity:.7}.button:focus{outline:1px solid var(--color-light)}.operator,.equals{background-color:var(--operators-color)}.zero{grid-column:span 2;text-align:left;padding-left:35px}')),document.head.appendChild(o)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();class a{constructor(t,e){this.display=document.querySelector(t),this.buttonsContainer=document.querySelector(e),this.current="",this.prev="",this.operator=null,this.activeOperatorBtn=null,this._bindEvents()}_bindEvents(){this.buttonsContainer.addEventListener("click",t=>{t.target.classList.contains("button")&&this._handleInput(t.target.textContent.trim(),t.target)}),document.addEventListener("keydown",t=>{const e=t.key;if(e>="0"&&e<="9"||e==="."){this._handleInput(e);return}if(["+","-","*","/"].includes(e)){const s=this._findOperatorBtn(e);this._handleInput(e,s);return}if(e==="Enter"||e==="="){t.preventDefault(),this._handleInput("=");return}if(e==="Escape"){this._handleInput("AC");return}if(e==="%"){this._handleInput("%");return}e==="_"&&this._handleInput("+/-")})}_findOperatorBtn(t){let e=t;return t==="*"&&(e="×"),t==="/"&&(e="÷"),t==="-"&&(e="−"),[...this.buttonsContainer.querySelectorAll(".operator")].find(s=>s.textContent.trim()===e)}_handleInput(t,e=null){switch(t){case"AC":this.current="",this.prev="",this.operator=null,this._clearOperatorHighlight(),this._updateDisplay("0");break;case"+/-":this.current&&(this.current=String(-parseFloat(this.current)),this._updateDisplay(this.current));break;case"%":this.current&&(this.current=String(parseFloat(this.current)/100),this._updateDisplay(this.current));break;case"+":case"-":case"*":case"/":case"÷":case"×":case"−":this.current&&(this.prev&&this.operator?this._calc():this.prev=this.current),this.operator=this._mapOperator(t),this.current="",this._highlightOperator(e);break;case"=":this.operator&&this.current&&this._calc(),this.operator=null,this._clearOperatorHighlight();break;default:if(t==="."&&this.current.includes("."))return;this.current+=t,this._updateDisplay(this.current)}}_highlightOperator(t){this._clearOperatorHighlight(),t&&(t.classList.add("active"),this.activeOperatorBtn=t)}_clearOperatorHighlight(){this.activeOperatorBtn&&(this.activeOperatorBtn.classList.remove("active"),this.activeOperatorBtn=null)}_mapOperator(t){switch(t){case"÷":return"/";case"×":return"*";case"−":return"-";default:return t}}_calc(){const t=parseFloat(this.prev),e=parseFloat(this.current);let s;switch(this.operator){case"+":s=t+e;break;case"-":s=t-e;break;case"*":s=t*e;break;case"/":s=e===0?"Ошибка":t/e;break}this.prev=String(s),this.current="",this._updateDisplay(s)}_updateDisplay(t){this.display.value=t}}document.addEventListener("DOMContentLoaded",()=>{new a("#display",".buttons")});document.querySelector("#app").innerHTML=`
<div class="calculator">
    <div class="display">
        <input type="text" id="display" placeholder="0" readonly tabindex="-1">
    </div>
    <section class="buttons">
        <button class="button clear">AC</button>
        <button class="button neg-or-pos">+/-</button>
        <button class="button percent">&percnt;</button>
        <button class="button operator">&divide;</button>
       
        <button class="button">7</button>
        <button class="button">8</button>
        <button class="button">9</button>
        <button class="button operator">&times;</button>
       
        <button class="button">4</button>
        <button class="button">5</button>
        <button class="button">6</button>
        <button class="button operator">&minus;</button>
        
        <button class="button">1</button>
        <button class="button">2</button>
        <button class="button">3</button>
        <button class="button operator">&plus;</button>
        
        <button class="button zero">0</button>
        <button class="button">.</button>
        <button class="button equals">&equals;</button>
    </section>
</div>
   `;
